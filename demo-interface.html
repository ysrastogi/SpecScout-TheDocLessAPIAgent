<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <title>Doc-less API Agent Demo Interface</title>
    
    <!-- Optimized for Hugging Face Spaces -->
    <meta name="description" content="Live interactive demo of the Doc-less API Agent - Transform undocumented APIs into production-ready SDKs">
    <meta name="theme-color" content="#297373">
    
    <!-- External Dependencies -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dompurify@2.4.0/dist/purify.min.js"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#297373',
                        secondary: '#39a0ca',
                        accent: '#5fb3d4',
                        dark: '#1a1a1a',
                        gray: {
                            850: '#1f2937',
                            900: '#111827'
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body {
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #e2e8f0;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .hero-section {
            text-align: center;
            margin-bottom: 3rem;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .hero-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #60a5fa, #34d399);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-subtitle {
            font-size: 1.25rem;
            color: #94a3b8;
            margin-bottom: 2rem;
        }

        .progress-container {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 2rem;
        }

        .progress-bar {
            height: 8px;
            background: linear-gradient(90deg, #60a5fa, #34d399);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .demo-controls {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .demo-button {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
        }

        .demo-button:not(:disabled) {
            background: linear-gradient(135deg, #60a5fa, #34d399);
            color: white;
        }

        .demo-button:not(:disabled):hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(96, 165, 250, 0.3);
        }

        .demo-button:disabled {
            background: #4b5563;
            color: #9ca3af;
            cursor: not-allowed;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 1rem;
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: #60a5fa;
            display: block;
        }

        .stat-label {
            font-size: 0.875rem;
            color: #94a3b8;
            margin-top: 0.5rem;
        }

        .terminal-container {
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 8px;
            margin-bottom: 2rem;
        }

        .terminal-header {
            background: #2d2d2d;
            padding: 0.75rem 1rem;
            border-bottom: 1px solid #333;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            border-radius: 8px 8px 0 0;
        }

        .terminal-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .terminal-dot.red { background: #ef4444; }
        .terminal-dot.yellow { background: #f59e0b; }
        .terminal-dot.green { background: #10b981; }

        .terminal-output {
            padding: 1rem;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 14px;
            line-height: 1.4;
            min-height: 200px;
            max-height: 400px;
            overflow-y: auto;
            color: #00ff00;
            background: #000;
        }

        .flowchart {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .flowchart-node {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 1rem;
            text-align: center;
            transition: all 0.3s ease;
        }

        .flowchart-node.active {
            border-color: #60a5fa;
            background: rgba(96, 165, 250, 0.1);
            transform: scale(1.02);
        }

        .flowchart-node.completed {
            border-color: #10b981;
            background: rgba(16, 185, 129, 0.1);
        }

        .final-results {
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid rgba(16, 185, 129, 0.3);
            border-radius: 8px;
            padding: 2rem;
            margin-top: 2rem;
            display: none;
        }

        .export-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 2rem;
        }

        .export-button {
            padding: 10px 20px;
            background: linear-gradient(135deg, #8b5cf6, #06b6d4);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .export-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(139, 92, 246, 0.3);
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
            
            .hero-title {
                font-size: 2rem;
            }
            
            .demo-controls {
                flex-direction: column;
                align-items: center;
            }
            
            .demo-button {
                width: 100%;
                max-width: 300px;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <!-- Hero Section -->
        <div class="hero-section">
            <h1 class="hero-title">üîç Doc-less API Agent</h1>
            <p class="hero-subtitle">Transform undocumented APIs into production-ready developer tools</p>
            <p class="text-gray-300">Watch as we discover, analyze, and generate SDKs from the GitHub API in real-time</p>
        </div>

        <!-- Progress Section -->
        <div class="progress-container">
            <div class="flex justify-between items-center mb-2">
                <span id="progress-text" class="text-sm font-medium">Ready to start demo</span>
                <span id="demo-timer" class="text-sm font-mono">00:00</span>
            </div>
            <div class="w-full bg-gray-700 rounded-full h-2">
                <div id="progress" class="progress-bar" style="width: 0%"></div>
            </div>
        </div>

        <!-- Demo Controls -->
        <div class="demo-controls">
            <button id="start-demo" class="demo-button">üöÄ Start Demo</button>
            <button id="reset-demo" class="demo-button" disabled>üîÑ Reset Demo</button>
            <button id="skip-to-results" class="demo-button" disabled>‚è≠Ô∏è Skip to Results</button>
        </div>

        <!-- Statistics -->
        <div class="stats-grid">
            <div class="stat-card">
                <span id="api-calls" class="stat-number">0</span>
                <div class="stat-label">API Calls Made</div>
            </div>
            <div class="stat-card">
                <span id="endpoints-discovered" class="stat-number">0</span>
                <div class="stat-label">Endpoints Discovered</div>
            </div>
            <div class="stat-card">
                <span id="tests-passed" class="stat-number">0/15</span>
                <div class="stat-label">Tests Passed</div>
            </div>
            <div class="stat-card">
                <span id="deliverables-ready" class="stat-number">0/6</span>
                <div class="stat-label">Deliverables Ready</div>
            </div>
        </div>

        <!-- Flowchart -->
        <div class="flowchart">
            <div class="flowchart-node" data-step="1">
                <h3 class="font-semibold mb-2">üì• Setup & Clone</h3>
                <p class="text-sm text-gray-400">Initialize environment and clone repository</p>
            </div>
            <div class="flowchart-node" data-step="2">
                <h3 class="font-semibold mb-2">üõ†Ô∏è Environment</h3>
                <p class="text-sm text-gray-400">Setup Python environment and dependencies</p>
            </div>
            <div class="flowchart-node" data-step="3">
                <h3 class="font-semibold mb-2">üó∫Ô∏è Path Analysis</h3>
                <p class="text-sm text-gray-400">Analyze and plan discovery paths</p>
            </div>
            <div class="flowchart-node" data-step="4a">
                <h3 class="font-semibold mb-2">üîç Live API Discovery</h3>
                <p class="text-sm text-gray-400">Discover GitHub API endpoints</p>
            </div>
            <div class="flowchart-node" data-step="4b">
                <h3 class="font-semibold mb-2">üê≥ Mock Lab Setup</h3>
                <p class="text-sm text-gray-400">Start Docker testing environment</p>
            </div>
            <div class="flowchart-node" data-step="4c">
                <h3 class="font-semibold mb-2">üìö SDK Development</h3>
                <p class="text-sm text-gray-400">Build comprehensive SDK</p>
            </div>
            <div class="flowchart-node" data-step="5a">
                <h3 class="font-semibold mb-2">‚öôÔ∏è Generate SDK</h3>
                <p class="text-sm text-gray-400">Create TypeScript SDK with pagination</p>
            </div>
            <div class="flowchart-node" data-step="5b">
                <h3 class="font-semibold mb-2">üîê OAuth2 Testing</h3>
                <p class="text-sm text-gray-400">Test PKCE flow and idempotency</p>
            </div>
            <div class="flowchart-node" data-step="6a">
                <h3 class="font-semibold mb-2">üß™ Live Testing</h3>
                <p class="text-sm text-gray-400">Test live API endpoints</p>
            </div>
            <div class="flowchart-node" data-step="6b">
                <h3 class="font-semibold mb-2">ü™ù Webhook Testing</h3>
                <p class="text-sm text-gray-400">Test webhook verification</p>
            </div>
            <div class="flowchart-node" data-step="7">
                <h3 class="font-semibold mb-2">üìä Evidence Report</h3>
                <p class="text-sm text-gray-400">Generate comprehensive report</p>
            </div>
        </div>

        <!-- Terminal -->
        <div class="terminal-container">
            <div class="terminal-header">
                <div class="terminal-dot red"></div>
                <div class="terminal-dot yellow"></div>
                <div class="terminal-dot green"></div>
                <span class="text-gray-400 text-sm ml-2">Doc-less API Agent Terminal</span>
            </div>
            <div id="terminal" class="terminal-output">Ready to start API discovery...<br></div>
        </div>

        <!-- Final Results -->
        <div id="final-results" class="final-results">
            <h2 class="text-2xl font-bold mb-4 text-center">üéâ Demo Complete!</h2>
            <p class="text-center mb-6">Your API discovery session has completed successfully. All deliverables are ready for download.</p>
            
            <div class="export-buttons">
                <button onclick="exportOpenAPI()" class="export-button">üìÑ Download OpenAPI Spec</button>
                <button onclick="exportPostmanCollection()" class="export-button">üìÆ Download Postman Collection</button>
                <button onclick="exportResults()" class="export-button">üìä Download Results Summary</button>
                <button onclick="showEvidence()" class="export-button">üìã View Evidence Report</button>
            </div>
        </div>
    </div>

    <script>
        // Demo state management
        let demoState = {
            currentStep: 0,
            totalSteps: 11,
            startTime: null,
            timer: null,
            apiCalls: 0,
            endpointsDiscovered: 0,
            testsPassed: 0,
            totalTests: 15,
            deliverables: 0
        };

        // Demo control functions
        function startDemo() {
            console.log('Starting demo...');
            demoState.startTime = Date.now();
            demoState.currentStep = 1;
            
            // Update button states
            document.getElementById('start-demo').disabled = true;
            document.getElementById('reset-demo').disabled = false;
            document.getElementById('skip-to-results').disabled = false;
            
            // Clear terminal
            document.getElementById('terminal').innerHTML = 'Starting API discovery demo...<br>';
            
            updateProgress();
            startTimer();
            runDemoStep(1);
        }

        function resetDemo() {
            console.log('Resetting demo...');
            
            // Reset state
            demoState = {
                currentStep: 0,
                totalSteps: 11,
                startTime: null,
                timer: null,
                apiCalls: 0,
                endpointsDiscovered: 0,
                testsPassed: 0,
                totalTests: 15,
                deliverables: 0
            };
            
            // Reset UI
            document.getElementById('start-demo').disabled = false;
            document.getElementById('reset-demo').disabled = true;
            document.getElementById('skip-to-results').disabled = true;
            document.getElementById('final-results').style.display = 'none';
            
            // Reset flowchart nodes
            document.querySelectorAll('.flowchart-node').forEach(node => {
                node.classList.remove('active', 'completed');
            });
            
            // Clear timer
            if (demoState.timer) {
                clearInterval(demoState.timer);
            }
            
            updateProgress();
            updateStats();
            clearTerminal();
        }

        function skipToResults() {
            console.log('Skipping to results...');
            
            // Fast-forward state
            demoState.currentStep = demoState.totalSteps;
            demoState.apiCalls = 25;
            demoState.endpointsDiscovered = 8;
            demoState.testsPassed = 15;
            demoState.deliverables = 6;
            
            // Mark all nodes as completed
            document.querySelectorAll('.flowchart-node').forEach(node => {
                node.classList.add('completed');
                node.classList.remove('active');
            });
            
            updateProgress();
            updateStats();
            appendToTerminal('üöÄ Demo fast-forwarded to completion!');
            showFinalResults();
        }

        function runDemoStep(step) {
            console.log('Running demo step:', step);
            
            // Mark current step as active
            const stepId = getStepId(step);
            const currentNode = document.querySelector('[data-step="' + stepId + '"]');
            if (currentNode) {
                currentNode.classList.add('active');
                currentNode.classList.remove('completed');
            }
            
            // Simulate step execution with realistic delays
            switch(step) {
                case 1:
                    setTimeout(() => {
                        appendToTerminal('üì• Cloning repository from GitHub...');
                        appendToTerminal('‚úÖ Repository cloned successfully');
                        completeStep(stepId);
                        runDemoStep(2);
                    }, 1500);
                    break;
                    
                case 2:
                    setTimeout(() => {
                        appendToTerminal('üõ†Ô∏è Setting up Python environment...');
                        appendToTerminal('üì¶ Installing dependencies...');
                        appendToTerminal('‚úÖ Environment ready');
                        completeStep(stepId);
                        runDemoStep(3);
                    }, 2000);
                    break;
                    
                case 3:
                    setTimeout(() => {
                        appendToTerminal('üó∫Ô∏è Analyzing API paths...');
                        appendToTerminal('‚úÖ Ready to proceed with three parallel paths');
                        completeStep(stepId);
                        // Start parallel paths
                        runDemoStep(4); // Live API
                        runDemoStep(8); // Mock Lab  
                        runDemoStep(10); // SDK Development
                    }, 1000);
                    break;
                    
                case 4: // Live API Discovery
                    setTimeout(() => {
                        appendToTerminal('üîç Discovering GitHub API endpoints...');
                        appendToTerminal('üìä Found /user/repos endpoint');
                        appendToTerminal('üìä Found /repos/:owner/:repo/issues endpoint');
                        demoState.endpointsDiscovered += 2;
                        demoState.apiCalls += 5;
                        completeStep('4a');
                        runDemoStep(5);
                    }, 2500);
                    break;
                    
                case 5: // Generate SDK
                    setTimeout(() => {
                        appendToTerminal('‚öôÔ∏è Generating TypeScript SDK...');
                        appendToTerminal('‚úÖ SDK with pagination support generated');
                        demoState.deliverables += 1;
                        completeStep('5a');
                        runDemoStep(6);
                    }, 2000);
                    break;
                    
                case 6: // Test Live API
                    setTimeout(() => {
                        appendToTerminal('üß™ Testing live API endpoints...');
                        appendToTerminal('‚úÖ All tests passed');
                        demoState.testsPassed += 5;
                        demoState.apiCalls += 8;
                        demoState.deliverables += 1;
                        completeStep('6a');
                        checkAllPathsComplete();
                    }, 3000);
                    break;
                    
                case 8: // Mock Lab
                    setTimeout(() => {
                        appendToTerminal('üê≥ Starting Docker mock lab...');
                        appendToTerminal('‚úÖ OAuth2, Payment, and Webhook services running');
                        demoState.deliverables += 1;
                        completeStep('4b');
                        runDemoStep(9);
                    }, 2000);
                    break;
                    
                case 9: // Test OAuth2 & Webhooks
                    setTimeout(() => {
                        appendToTerminal('üîê Testing OAuth2 PKCE flow...');
                        appendToTerminal('ü™ù Testing webhook verification...');
                        appendToTerminal('‚úÖ Advanced patterns verified');
                        demoState.testsPassed += 7;
                        completeStep('5b');
                        completeStep('6b');
                        checkAllPathsComplete();
                    }, 2500);
                    break;
                    
                case 10: // SDK Development
                    setTimeout(() => {
                        appendToTerminal('üìö Building comprehensive SDK...');
                        appendToTerminal('üîÑ Implementing retry logic...');
                        appendToTerminal('üìÑ Generating pagination helpers...');
                        setTimeout(() => {
                            appendToTerminal('‚úÖ SDK package ready');
                            demoState.testsPassed += 3;
                            demoState.deliverables += 2;
                            completeStep('4c');
                            checkAllPathsComplete();
                        }, 1500);
                    }, 3000);
                    break;
                    
                case 11: // Final Evidence Report
                    setTimeout(() => {
                        appendToTerminal('üìä Generating evidence report...');
                        appendToTerminal('üìã Compiling test results...');
                        appendToTerminal('üìà Creating performance metrics...');
                        setTimeout(() => {
                            appendToTerminal('‚úÖ Evidence report generated');
                            appendToTerminal('üéâ Demo completed successfully!');
                            demoState.deliverables += 1;
                            completeStep('7');
                            showFinalResults();
                        }, 1000);
                    }, 2000);
                    break;
            }
            
            updateProgress();
            updateStats();
        }

        function getStepId(step) {
            const stepMap = {
                1: '1', 2: '2', 3: '3',
                4: '4a', 5: '5a', 6: '6a',
                8: '4b', 9: '5b',
                10: '4c', 11: '7'
            };
            return stepMap[step] || step.toString();
        }

        function completeStep(stepId) {
            const node = document.querySelector('[data-step="' + stepId + '"]');
            if (node) {
                node.classList.remove('active');
                node.classList.add('completed');
            }
            demoState.currentStep++;
        }

        function checkAllPathsComplete() {
            // Check if all three main paths are complete
            const pathAComplete = document.querySelector('[data-step="6a"]')?.classList.contains('completed');
            const pathBComplete = document.querySelector('[data-step="6b"]')?.classList.contains('completed');  
            const pathCComplete = document.querySelector('[data-step="4c"]')?.classList.contains('completed');
            
            if (pathAComplete && pathBComplete && pathCComplete) {
                setTimeout(() => {
                    runDemoStep(11); // Generate evidence report
                }, 1000);
            }
        }

        function updateProgress() {
            const percentage = Math.min((demoState.currentStep / demoState.totalSteps) * 100, 100);
            document.getElementById('progress').style.width = percentage + '%';
            document.getElementById('progress-text').textContent = 
                'Step ' + demoState.currentStep + '/' + demoState.totalSteps + ' - ' + Math.round(percentage) + '% complete';
        }

        function updateStats() {
            document.getElementById('api-calls').textContent = demoState.apiCalls;
            document.getElementById('endpoints-discovered').textContent = demoState.endpointsDiscovered;
            document.getElementById('tests-passed').textContent = demoState.testsPassed + '/' + demoState.totalTests;
            document.getElementById('deliverables-ready').textContent = demoState.deliverables + '/6';
        }

        function startTimer() {
            demoState.timer = setInterval(() => {
                const elapsed = Date.now() - demoState.startTime;
                const minutes = Math.floor(elapsed / 60000);
                const seconds = Math.floor((elapsed % 60000) / 1000);
                document.getElementById('demo-timer').textContent = 
                    minutes.toString().padStart(2, '0') + ':' + seconds.toString().padStart(2, '0');
            }, 1000);
        }

        function appendToTerminal(message) {
            const terminal = document.getElementById('terminal');
            const timestamp = new Date().toLocaleTimeString();
            terminal.innerHTML += '[' + timestamp + '] ' + message + '<br>';
            terminal.scrollTop = terminal.scrollHeight;
        }

        function clearTerminal() {
            document.getElementById('terminal').innerHTML = 'Ready to start API discovery...<br>';
        }

        function showFinalResults() {
            document.getElementById('final-results').style.display = 'block';
            document.getElementById('final-results').scrollIntoView({ behavior: 'smooth' });
        }

        // Export functions
        function exportResults() {
            const results = {
                timestamp: new Date().toISOString(),
                demo_duration: demoState.timer ? 
                    Math.floor((Date.now() - demoState.startTime) / 1000) : 0,
                statistics: {
                    api_calls_made: demoState.apiCalls,
                    endpoints_discovered: demoState.endpointsDiscovered,
                    tests_passed: demoState.testsPassed,
                    deliverables_ready: demoState.deliverables
                },
                deliverables: [
                    'openapi.yaml - Complete GitHub API 3.1 specification',
                    'sdk/ - TypeScript SDK with pagination and retry logic',
                    'postman_collection.json - Ready-to-use API collection',
                    'evidence.md - Comprehensive behavior documentation',
                    'mock-lab/ - Docker environment for advanced testing',
                    'tests/ - Complete test suite with coverage reports'
                ]
            };
            
            downloadJSON(results, 'docless-api-agent-demo-results.json');
        }

        function exportPostmanCollection() {
            const postmanCollection = {
                "info": {
                    "name": "GitHub API - Doc-less Agent Generated",
                    "description": "Auto-generated collection from API discovery",
                    "version": "1.0.0",
                    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
                },
                "item": [
                    {
                        "name": "List User Repositories",
                        "request": {
                            "method": "GET",
                            "header": [
                                {
                                    "key": "Authorization",
                                    "value": "Bearer {{github_token}}",
                                    "type": "text"
                                }
                            ],
                            "url": {
                                "raw": "https://api.github.com/user/repos?per_page=30&page=1",
                                "protocol": "https",
                                "host": ["api", "github", "com"],
                                "path": ["user", "repos"],
                                "query": [
                                    {"key": "per_page", "value": "30"},
                                    {"key": "page", "value": "1"}
                                ]
                            }
                        }
                    }
                ],
                "variable": [
                    {"key": "github_token", "value": "your_token_here"}
                ]
            };
            
            downloadJSON(postmanCollection, 'github-api-postman-collection.json');
        }

        function exportOpenAPI() {
            const yamlContent = `openapi: 3.1.0
info:
  title: GitHub API - Doc-less Agent Discovery
  description: Auto-discovered GitHub API specification with pagination patterns
  version: 1.0.0
  contact:
    name: Doc-less API Agent
    url: https://github.com/ysrastogi/apiWitness
servers:
  - url: https://api.github.com
    description: GitHub API v3
components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
security:
  - bearerAuth: []
paths:
  /user/repos:
    get:
      summary: List repositories for authenticated user
      parameters:
        - name: per_page
          in: query
          schema:
            type: integer
            default: 30
            maximum: 100
        - name: page
          in: query
          schema:
            type: integer
            default: 1
      responses:
        '200':
          description: List of repositories
          headers:
            Link:
              description: Pagination links
              schema:
                type: string`;
            
            downloadText(yamlContent, 'github-api-openapi.yaml');
        }

        function showEvidence() {
            alert('Evidence Report:\n\nAPI Discovery Summary:\n- Endpoints Discovered: ' + demoState.endpointsDiscovered + '\n- Tests Passed: ' + demoState.testsPassed + '/' + demoState.totalTests + '\n- API Calls Made: ' + demoState.apiCalls + '\n- Deliverables Ready: ' + demoState.deliverables + '/6\n\nDemo completed successfully with comprehensive API documentation and testing results.');
        }

        // Helper functions for file downloads
        function downloadJSON(data, filename) {
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function downloadText(content, filename) {
            const blob = new Blob([content], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // Initialize event listeners when DOM is ready
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Demo interface loaded and ready');
            
            // Demo control button event listeners
            document.getElementById('start-demo').addEventListener('click', function() {
                console.log('Start demo button clicked');
                startDemo();
            });
            
            document.getElementById('reset-demo').addEventListener('click', function() {
                console.log('Reset demo button clicked');
                resetDemo();
            });
            
            document.getElementById('skip-to-results').addEventListener('click', function() {
                console.log('Skip to results button clicked');
                skipToResults();
            });
            
            // Initialize display
            updateProgress();
            updateStats();
        });
    </script>
</body>
</html>
